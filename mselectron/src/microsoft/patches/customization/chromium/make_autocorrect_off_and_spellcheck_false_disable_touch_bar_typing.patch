From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: deepak1556 <hop2deep@gmail.com>
Date: Sun, 22 Nov 2020 14:07:01 -0800
Subject: Make autocorrect=off and spellcheck=false disable Touch Bar typing
 suggestions.

https://chromium-review.googlesource.com/c/chromium/src/+/1917603

diff --git a/content/app_shim_remote_cocoa/render_widget_host_view_cocoa.mm b/content/app_shim_remote_cocoa/render_widget_host_view_cocoa.mm
index ae798fc8f923a9b590c0d9ed703946a2bf5bd3d4..962dd1b0b2de739d013650bf5b9d3c213fcea6d3 100644
--- a/content/app_shim_remote_cocoa/render_widget_host_view_cocoa.mm
+++ b/content/app_shim_remote_cocoa/render_widget_host_view_cocoa.mm
@@ -2671,7 +2671,9 @@ extern NSString* NSTextInputReplacementRangeAttributeName;
 }
 
 - (NSTouchBar*)makeTouchBar {
-  if (_textInputType != ui::TEXT_INPUT_TYPE_NONE) {
+  if (_textInputType != ui::TEXT_INPUT_TYPE_NONE &&
+      !(_textInputFlags & blink::kWebTextInputFlagAutocorrectOff) &&
+      !(_textInputFlags & blink::kWebTextInputFlagSpellcheckOff)) {
     _candidateListTouchBarItem = [[NSCandidateListTouchBarItem alloc]
         initWithIdentifier:NSTouchBarItemIdentifierCandidateList];
 

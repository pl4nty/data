// Copyright (C) Microsoft Corporation. All rights reserved.

// If you change or add any fields in this file, update proto_visitors.h and
// potentially proto_enum_conversions.{h, cc}.

syntax = "proto2";

option java_multiple_files = true;
option java_package = "org.chromium.components.sync.protocol";

option optimize_for = LITE_RUNTIME;

package sync_pb;

// Sync protocol datatype extension for Edge Journey and related data.
message JourneyPageContentData {
  // Page id.
  optional uint32 id = 1;

  // Page data creation time.
  optional int64 time_stamp = 2;

  // Page url.
  optional string url = 3;

  // Part of the page content used in Journey creation.
  optional string page_content_body = 4;

  // Page summary.
  optional string page_content_summary = 5;

  // Whethere this page content is filtered.
  optional bool is_content_filtered = 6;
}

message JourneyEventData {
  // Journey event data creation time.
  optional int64 time_stamp = 1;

  // Journey id.
  optional string journey_id = 2;

  // Journey event data.
  optional string event_data = 3;
}

message JourneyData {
  // Journey data creation time.
  optional int64 time_stamp = 1;

  // Journey content data.
  optional string content_data = 2;

  // Identifiers of journey image for destop and mobile.
  optional string desktop_image_id = 3;
  optional string mobile_image_id = 4;
}

message EdgeJourneySpecifics {
  // An guid that refers to the sync journey object.
  optional string guid = 1;

  // Timestamps for CRUD operations.
  optional int64 creation_time_windows_epoch_micros = 2;
  optional int64 update_time_windows_epoch_micros = 3;

  // One of the sync journey data.
  oneof entity {
    JourneyPageContentData page_content_data = 4;
    JourneyData journey_data = 5;
    JourneyEventData journey_event_data = 6;
  }
}

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const TestSupport_1 = require("./TestSupport");
const testFx = require("../src/Index");
var LogLevel = testFx.LogLevel;
var assert = testFx.Utils.Assert;
describe("Portal Tests", function () {
    this.timeout(0);
    const testSupport = new TestSupport_1.default(this);
    before(() => {
        testSupport.initializePortalContext();
        testFx.portal.portalContext.testExtensions = null;
    });
    it("Can Collect Logs", async () => {
        //debugging#getBrowserLogs
        await testFx.portal.goHome();
        await assert.ok(async () => (await testFx.portal.getBrowserLogs(LogLevel.All)).length > 0, "Expected to collect at least one log.");
        //debugging#getBrowserLogs
    });
    //debugging#takeScreenshot
    afterEach(async function () {
        const currentTest = this.currentTest;
        testSupport.LogRetry(currentTest);
        if (currentTest.state === "failed") {
            await testSupport.GatherTestFailureDetails(currentTest, __filename);
        }
        await testFx.portal.quit();
    });
    //debugging#takeScreenshot
});
//# sourceMappingURL=PortalTests.js.map
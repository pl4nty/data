"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const testFx = require("../src/Index");
const TestSupport_1 = require("./TestSupport");
var CheckBox = testFx.Controls.CheckBoxField;
var assert = testFx.Utils.Assert;
describe("CheckBox Tests", function () {
    this.timeout(0);
    const testSupport = new TestSupport_1.default(this);
    before(() => {
        testSupport.initializePortalContext();
    });
    it("Can Find CheckBox", async () => {
        await testFx.portal.navigateToUriFragment("blade/SamplesExtension/CheckBoxIndexBlade/StandardCheckboxBlade/selectedItem/CheckBoxIndexBlade/selectedValue/CheckBoxIndexBlade", 70000);
        const checkBoxBlade = testFx.portal.blade({ title: "Check Box | Standard Check Box" });
        await checkBoxBlade.waitUntilBladeAndAllTilesLoaded();
        const sampleCheckBox = checkBoxBlade.element(CheckBox);
        //CheckBox#locator
        const locator = sampleCheckBox.locator;
        const valueCheckedOnInit = await testFx.portal.wait(async () => {
            //CheckBox#isChecked true
            const sampleCheckBoxValueOnInit = await sampleCheckBox.isChecked();
            return sampleCheckBoxValueOnInit;
        }, 20000);
        const valueUncheckedAfterClick = await testFx.portal.wait(async () => {
            //CheckBox#click
            await sampleCheckBox.click();
            //CheckBox#isChecked false
            const sampleCheckBoxValueNow = await sampleCheckBox.isChecked();
            return !sampleCheckBoxValueNow;
        }, 20000);
        await assert.ok(!!locator, "locator works");
        await assert.ok(valueCheckedOnInit, "sample checkbox value is checked on blade init");
        await assert.ok(valueUncheckedAfterClick, "sample checkbox value is unchecked after one click");
    });
    afterEach(async function () {
        const currentTest = this.currentTest;
        testSupport.LogRetry(currentTest);
        if (currentTest.state === "failed") {
            await testSupport.GatherTestFailureDetails(currentTest, __filename);
        }
        await testFx.portal.quit();
    });
});
//# sourceMappingURL=CheckBoxTests.js.map
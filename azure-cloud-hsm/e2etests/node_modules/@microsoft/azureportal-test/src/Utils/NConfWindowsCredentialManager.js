"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const WindowsCredentialManager_1 = require("./WindowsCredentialManager");
const nconf = require("nconf");
/**
 * provides nconf.get functionality with a WindowsCredentialManager backing store.
 */
class NConfWindowsCredentialManager extends nconf.Provider {
    /**
     * Gets the password for the given key from Windows Credential Manager.
     *
     * @param key the key in windows credential manager to return the password of
     */
    get(key) {
        return WindowsCredentialManager_1.default.getWindowsCredentialSync(key).CredentialBlob;
    }
}
/**
 * The provider name to use when registering this when calling nconf.use(...);
 */
NConfWindowsCredentialManager.ProviderName = "Windows-credential-manager";
exports.default = NConfWindowsCredentialManager;
nconf[NConfWindowsCredentialManager.ProviderName] = NConfWindowsCredentialManager;
//# sourceMappingURL=NConfWindowsCredentialManager.js.map